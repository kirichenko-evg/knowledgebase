## Анализ сделанных изменений

Предположим, добавим данные в файл
```
echo 'new line' >> INFO.md
echo 'Hello, User! How are you?' > README.md

git status

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
    modified:   INFO.md
    modified:   README.md

no changes added to commit (use "git add" and/or "git commit -a")
```
Изменились оба файла. В один файл добавили строчку, в другом — заменили. Посмотреть изменения можно командой `git diff`, которая показывает разницу между тем, что было и что стало:
```
git diff

diff --git a/INFO.md b/INFO.md
index d5225f8..40f51f1 100644
--- a/INFO.md
+++ b/INFO.md
@@ -1 +1,2 @@

 git is awesome!
+new line

diff --git a/README.md b/README.md
index ffe7ece..00fd294 100644
--- a/README.md
+++ b/README.md
@@ -1 +1 @@

-Hello, User!
+Hello, User! How are you?
```
Вывод git diff содержит не файлы целиком, а именно те строки, которые изменились — и иногда строки вокруг измененных для удобства анализа.

Слева от строк ставится:

    Знак -, если строка была удалена
    Знак +, если строка была добавлена

Сама команда не просто выводит на экран разницу между файлами, но и запускает пейджер — специальную программу-текстовый редактор, открытый только в режиме чтения, которая позволяет перемещаться по выводу и искать внутри него нужные данные.

    f — перемещение вниз
    b или u — перемещение вверх
    q — или выход из режима просмотра

По умолчанию команда git diff показывает изменения только для тех модифицированных файлов, которые еще не были добавлены в индекс. Чтобы просмотреть файлы добавленные в индекс, нужно запустить команду git diff с флагом --staged: `git diff --staged`


## Анализ истории изменений
- git log. Показывает список всех выполненных коммитов, отсортированных по дате добавления. Из этого вывода мы можем узнать кто, когда и какие коммиты делал.
- `git log -p` - выводит диф для каждого коммита
- `git show 5120bea`. У каждого коммита есть уникальный набор символов — идентификатор («хеш»). С помощью хеша можно посмотреть все изменения, сделанные в рамках одного коммита. Достаточно указать первые семь символов
- `git blame <путь к файлу>` - выводит файл и рядом с каждой строчкой показывает того, кто ее менял и в каком коммите. Но изменение строчки — не то же самое, что ее написание. Вполне возможно, что программист исправил небольшую опечатку, а саму строчку написал кто-то другой
- `git grep` - совпадение с указанной строкой во всех файлах проекта. Нужная команда для быстрого анализа из терминала. Она удобнее обычного grep, потому что знает про игнорирование и не смотрит в директорию .git, а еще умеет искать по истории
```
git grep teststr

INFO.md:new teststr

# Флаг `i` позволяет искать без учета регистра
git grep -i someinfo

README.md:Hello, someinfo! How are you?

# Поиск в конкретном коммите
git grep someinfo 5120bea

# Поиск по всей истории
# Возвращаем список хешей коммитов `rev-list`
git grep someinfo $(git rev-list --all)
```

  
