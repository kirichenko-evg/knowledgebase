### Установка git

Установка Git отличается в разных операционных системах. В убунту можно поставить Git через пакетные менеджеры
```
sudo apt update # на всякий случай смотрим новые версии
sudo apt install git-all
```
После установки Git нужно зайти в терминал и проверить, что он работает
```
git --version

git version 2.28.0
```
После установки Git нужно настроить. Для этого нужно ввести имя и почту. Эти данные подставляются в историю изменений. Так можно узнать, кто и что сделал в проекте
```
# Выполняется из любой директории
git config --global user.name "<имя фамилия>"
git config --global user.email "<ваш емейл>"
```
Также для работы понадобится создать аккаунт на GitHub.
После создания аккаунта нужно добавить ssh-ключи на github.com. Ключи позволяют работать репозиториям с GitHub без необходимости постоянно вводить логин и пароль при синхронизации локального и удаленного репозитория (находящегося на GitHub). Эта задача выполняется в два этапа. Сначала нужно сгенерировать ssh-ключи, а затем один из них (публичный) добавить в настройки GitHub. Подробная инструкция по созданию ssh-ключей доступна на их [сайте](https://docs.github.com/en/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent). В двух словах:
```
# Создание ssh-ключей
ssh-keygen -t ed25519  -C "your_email@example.com"
# Дальше будет несколько вопросов. На все вопросы нужно нажимать Enter.

# Запуск агента ssh, который следит за ключами
eval "$(ssh-agent -s)"

# Добавления нового ssh-ключа в агент
ssh-add ~/.ssh/id_ed25519
```
Когда ssh-ключи созданы и добавлены в систему, можно приступать к интеграции с GitHub. Подробно эта процедура описана в документации. Кратко:
- Выводим содержимое файла ~/.ssh/id_ed25519.pub и копируем его:
```
cat ~/.ssh/id_ed25519.pub
```
- Добавляем ssh-ключ в аккаунт GitHub. При добавлении нужно указать ключ. Можно можно написать что-нибудь в стиле home.
- Проверяем, что подключение работает
```
ssh -T git@github.com
Hi Jeka! You've successfully authenticated, but GitHub does not provide shell access.
```

### Возможные проблемы
- Github просит логин и пароль
```
remote: Support for password authentication was removed on August 13, 2021.
remote: Please see https://docs.github.com/en/get-started/getting-started-with-git/about-remote-repositories#cloning-with-https-urls for information on currently recommended modes of authentication.
fatal: Authentication failed for 'https://github.com/tirion/hexlet-git.git/'
```
Нужно проверить, что в репозитории стоит ссылка на SSH url
```
git remote -v
origin	git@github.com:<username>/<repo>.git (fetch)
origin	git@github.com:<username>/<repo>.git (push)
```
Если это не так, то ссылку нужно обновить
```
git remote set-url origin git@github.com:<username>/<repo>.git
```

### Как добавить репозиторий
Сохраненный репозиторий в любой момент можно извлечь и продолжить работу в нем с последнего добавленного коммита. 
Добавить репозиторий на GitHub:
1. Регистрируемся на GitHub и создаем ssh-ключи
2. Создайть репозиторий на GitHub, дать ему название. Важно, чтобы репозиторий создавался пустым, поэтому не нужно отмечать галочки, добавляющие файлы
3. На странице репозитория есть готовые команды для подключения созданного репозитория на GitHub к уже существующему репозиторию на компьютере:
```
git remote add origin git@github.com:<ИМЯ НА ГИТХАБЕ>/my-new-git.git
git branch -M main
git push -u origin main
```
4. Обновить страницу с репозиторием на GitHub. Кстати, директория .git отсутствует

После этой команды репозиторий, созданный на github.com, «соединяется» с локальным репозиторием my-new-git. И это разные репозитории. Git — распределенная система контроля версий. Это начит, что у Git нет какого-то центрального места, где лежит один главный репозиторий, а разработчики работают с ним со своих компьютеров.

Каждый репозиторий на GitHub и на компьютере у разработчика — это отдельные полноценные репозитории. Система Git связывает эти отдельные репозитории, объединяет их общей историей и добавляет возможность обмениваться изменениями. 

Команда выше `git push` отправляет изменения во вновь созданный репозиторий.

Когда выполнились команды выше, локальный и удаленный репозиторий идентичны. Но в процессе работы они все время будут расходиться. Поэтому ваожно не забывать синхронизировать изменения — заливать в репозиторий новые коммиты и забирать оттуда коммиты, сделанные другими разработчиками.

Теперь не важно, какие изменения делаются в локальном репозитории. На GitHub все коммиты попадут только после команды git push, поэтому нужно не забывать делать ее. Бывает такое, что разработчик случайно удаляет локальный репозиторий, забыв запушить изменения — применить команду git push.


### Как клонировать репозиторий
Репозитории на GitHub бывают публичные и приватные. Публичный репозиторий любой человек может клонировать себе на компьютер. После клонирования он начнет работать с ним как с личным.

Единственное ограничение — он не сможет запушить изменения, так как GitHub не дает напрямую менять чужие репозитории.

Клонирование — базовая операция при работе с удаленными репозиториями. Проекты, над которыми работают программисты, всегда находятся в системах, подобных GitHub. Для работы с ними нужно клонировать репозиторий к себе на компьютер.

Клонировать репозиторий можно с помощью команды `git clone`. Полную команду для клонирования можно получить на странице репозитория. Для этого нажмите кнопку Code, перейти на вкладку SSH и скопировать содержимое:
```
git clone git@github.com:<ИМЯ НА ГИТХАБЕ>/my-git.git
cd my-git
ls -la

# Если эта операция проходит первый раз, то будет подобное сообщение
The authenticity of host github.com cannot be established. RSA key fingerprint is SHA256: хххххххххх Are you sure you want to continue connecting (yes/no/[fingerprint])? yes Warning: Permanently added github.com (RSA) to the list of known hosts.
# Нужно набрать yes и нажать Enter
```
### Как получить изменения с GitHub
Перед началом работы нужно всегда выполнять команду `git pull --rebase`, которая скачивает из внешнего репозитория новые коммиты и добавляет их в локальный репозиторий.
Считается, что достаточно вызывать git pull, но это может приводить к созданию ненужных коммитов, из-за которых становится сложнее следить за историей изменений.

