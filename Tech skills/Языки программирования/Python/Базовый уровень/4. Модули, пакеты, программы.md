- import - подключение пакетов и модулей
- import smth as s
- from smth import part_1
- from smth import part_2 as p2

Модуль - просто файл, содержащий код Python. Если его поместить рядом с другой программиой или указать путь, то можно, например, использовать его функции.

2 подхода импортирования:
- именованый (абсолютный). Идем из корня, входной точки приложения. `from app.models import User`
- неименованый (относительный). Идем от файла. from ..models import User

| **Именованый** | **Неименованый** |
| --- | --- |
| **Плюсы** |
| 1. Видна структура импорта и приложения | 1. Видна часть структуры импорта |
| 2. Высокая читаемость | 2. Не нужно знать полную структуру приложения |
| - | 3. Импорт не зависит от точки входа |
| - | 4. Код становится не привязанным к приложению. Это позволяет исполнить его из любой точки. Повышается отлаживаемость |
| - | 5. Возможность разработки отдельных узлов без полного вовлечения программиста в проект |
| **Минусы** |
| 1. Импорт зависит от точки входа | 1. Снижается читаемость импорта |
| 2. Нужно знать структуру приложения | - |
| 3. Код связан с приложением, что усложняет отладку | - |
| 4. Программисты сильно вовлечены в проект | - |

Модули могут быть написаны и на других языках.

Модули - все файлы с расширением .py.

Любая программа имеет точку входа. Это место откуда стартует скрипт. Точка входа может указываться в модулях с использованием специальной переменной __name__. В ней содержится наименование текущего модуля или пакета. Если модуль находится на верхнем уровне исполнения, то он называется __main__ независимо от названия файла.

Пакеты - организация модулей в иерархии файлов и модулей. пакет - обычный подкаталог, содержащий файлы с расширением .py. В Python ниже 3.3 нужно в таком подкаталоге создать файл __init__.py. Это может быть даже пустой файл, но без этого каталог не может считаться пакетом.

### Стандартная библиотека. Функция setdefault и defaultdict
Например, есть какой-то словарь. Если ключа нет в словаре, будет использоваться новое значение, например `carbon = periodic_table.setdefault('Carbon', 12).

Функция defaultdict() похожа на предыдущую, но она определяет значение по умолчанию для новых ключей заранее, при создании словаря. В примере передается функция int, которая будет вызываться как int() и возвращать 10
```python
from collections import defaultdict
periodic_table = defaultdict(int)
```
Теперь любое отсутствующее значение будет заменяться целым числом int со значением 0.

Аргументом defaultdict() может быть и функция, возвращающая значение, которое будет присвоено отсутствующему ключу. 

Можно использовать int(), list(), dict() для значения по умолчанию. Если без аргумента, то новый ключ будет = None.

Можно использовать лямбда-функцию по умолчанию внутри вызова.
```python
test = defaultdict(lambda: 'Huh?')
test['E']  # вернет 'Huh?'
```
С int можно создать собственный счетчик
```python
>>> from collections import defaultdict
>>> food_counter = defaultdict(int)
>>> for food in ['spam', 'spam', 'eggs', 'spam']:
... food_counter[food] += 1
...
>>> for food, count in food_counter.items():
... print(food, count)
...
eggs 1
spam 3
```

### Функция Counter()
В стандартной библиотеке есть счетчик, который справляется с задачей из примера выше
```python
>>> from collections import Counter
>>> breakfast = ['spam', 'spam', 'eggs', 'spam']
>>> breakfast_counter = Counter(breakfast)
>>> breakfast_counter
Counter({'spam': 3, 'eggs': 1})
```
- most_common() - возвращает все элементы в убывающем порядке или только те элементы, количество которых больше, чем заданный аргумент count `breakfast_counter.most_common(1)`
- счетчики можно объединять `lst_counter + test_counter`, можно вычитать, использовать оператор `&` или объединение `|`

### Упорядочить по ключу при помощи OrderDict()
В Python 3.7 ключи сохраняют очередность. В ранних версиях использовался `OrderDict()` из Collections.

### Стек + очередь == deque
deque — это двусторонняя очередь, которая имеет функции как стека, так и очереди. Она полезна, когда нужно добавить или удалить элементы с любого конца последовательности. Пример с палиндромом, где удаляется по элементу с начала и конца
```python
>>> def palindrome(word):
...   from collections import deque
...   dq = deque(word)
...   while len(dq) > 1:
...     if dq.popleft() != dq.pop():
...       return False
...   return True
...
...
>>> palindrome('a')
True
>>> palindrome('racecar')
True
>>> palindrome('')
True
>>> palindrome('radar')
True
>>> palindrome('halibut')
False
```

### Итерируем по структурам кода с помощью модуля itertools
Модуль itertools содержит особые функции итератора. Все они возвращают один элемент при каждом вызове из цикла for…in и запоминают свое состояние между вызовами.
- chain() проходит по своим аргументам, как если бы они были единым итерабельным объектом:
```python
>>> import itertools
>>> for item in itertools.chain([1, 2], ['a', 'b']):
... print(item)
...
1
2
a
b
```
- cycle() является бесконечным итератором, проходящим в цикле по своим аргументам:
```python
>>> import itertools
>>> for item in itertools.cycle([1, 2]):
... print(item)
...
1
2
1
2
.
.
.
```
- accumulate() подсчитывает накопленные значения. По умолчанию она высчитывает сумму:
```python
>>> import itertools
>>> for item in itertools.accumulate([1, 2, 3, 4]):
... print(item)
...
1
3
6
10
```
В качестве второго аргумента.функции accumulate() можно передать функцию, и она будет использована вместо сложения. Функция должна принимать два аргумента и возвращать одно значение. В примере высчитывается произведение:
```python
>>> import itertools
>>> def multiply(a, b):
...   return a * b
...
>>> for item in itertools.accumulate([1, 2, 3, 4], multiply):
... print(item)
...
1
2
6
24
```

### Функция pprint()
pprint - для вывода красивых данных. `from pprint import pprint`

### Работа со случайными числами
- random - работа со случайными числами
- random.choice - возврат одного значения
- random.sample - sample([1, 2, 3, 4, 5, 6, 7], 2) - вернет 2 значения, задается аргументом
- random.randint - число из диапазона
- random.randrange - может использовать шат
- random.random - число от 0.0 до 1.0
