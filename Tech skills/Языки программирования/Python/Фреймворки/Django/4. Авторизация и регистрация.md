## Пространство имен в диспетчере URL
http://127.0.0.1:8000/products/ сейчас такой вид и формируется он из `urls.py`.
```python
urlpatterns = [
    path('products/', products, name='products'),
]
```
Логично сделать файл `urls.py` отдельно для приложения. Т.е. в products, в приложение, перенесем все url, что связаны с products. А в `urls.py` будет следующая конструкция. Также нужно импортировать функцию include
```python
from django.urls import path, include

urlpatterns = [
    path('products/', include('products.urls', namespace='products')),
]
```
Создаем `urls.py` в приложении (директории) `products`. Задаем app_name и имя index.
```python
from django.urls import path
from products.views import products

app_name = 'products'

urlpatterns = [
    path('', products, name='index'),
]

```
В html изменится обращение к данной странице в href
```html
 <a id="start-purchase-link" href="{% url 'products:index' %}">
  Начать покупки
</a>
```

## Клиент-серверная архитектура, GET и POST запросы
Сервер и клиент общаются посредством GET и POST запросов.
- GET - например обычный запрос страницы. Клиент запросил страницу, сервер ее вернул. Возвращает с определенным ответом (response). Коды ответов:
  - информационные 1xx
  - успешные 2xx
  - перенаправления 3xx
  - ошибки клиента 4xx
  - ошибки сервера 5xx
- POST - отправка формы

## Traceback и Debug-режим
Traceback - ошибка при разработке, которая отображается в браузере и в логах PyCharm. В браузере отображается потому что debug=True.

Debug-режим - пройти по шагам для поиска ошибки. Также с дебагером удобно смотреть что содержится внутри объектов и как они изменяются при передаче клиенту.

## Model View Template
MVT - паттерн проектирования.
- template - html, css, form. Пример - форма. Пользователь вводит данные формы и нажимает кнопку отправить.
- view (request, response). Форма попадает в контроллер, данныер проходят валидацию, выполняется какая-то логика
- model - работа с БД. Если это регистрация, авторизация в форме, то создается или изменяется объект в БД.

## Создание собственной модели пользователя
1. Создаем приложение users - `./manage.py startapp users`
2. Перейти в `settings.py` и внести `users` в `INSTALLED_APPS`
3. В структуре `users` переходим в `models.py` и расширяем модель существующего стандартного пользователя.
```python
from django.db import models
from django.contrib.auth.models import AbstractUser



class User(AbstractUser):
    image = models.ImageField(upload_to='users_images', null=True, blank=True)
```
4. Создаем миграцию `./manage.py makemigrations`. Но т.к. планировать структуру нужно заранее, при миграции возникнет ошибка.
5. В файл `settings.py` добавляем блок для users
```python
# users
AUTH_USER_MODEL = 'users.User'
```
6. Удаляем БД и делаем миграции заново, загружаем таблицы из фикстур
7. Для отображения пользователей в админке модель нужно зарегистрировать
```python
from django.contrib import admin
from users.models import User

admin.site.register(User)
```
