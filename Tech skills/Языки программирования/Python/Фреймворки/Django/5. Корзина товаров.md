## QuerySet API
В терминале запускаем консоль `./manage.py shell`.

- Импортируем класс `from products.models import Product`
- Product.objects.filter(id=1) - вернет QuerySet (список)
- Product.objects.all() - вернет QuerySet, все объекты
- Product.objects.get(id=1) - вернет сам продукт, не QuerySet
- create() - также возвращает определенный объект

Возврат QuerySet
- Product.objects.all().order_by('name') - выведет в алфавитном порядке по имени
- Product.objects.all().order_by('-name') - выведет в обратном алфавитном порядке по имени
- Product.objects.order_by('name') - можно применять напрямую к objects

Возврат значений
- Product.objects.count() - сколько объектов в БД
- Product.objects.filter(id=1).exists() - вернет True, если список не пустой

- Product.objects.filter(name__startswith'Ч') - начинаются с буквы Ч
- Product.objects.filter(name__endswith'я') - заканчивается на я
- Product.objects.filter(price__gt=5000) - цена больше 5000
- Product.objects.filter(price__lt=5000) - цена меньше 5000
- `ids = [1, 3, 5]` Product.objects.filter(id__in=ids) - все объекты по определенным id

## Корзина товаров
Заходим в products `models.py` и создаем модель для корзины
```python
...
from users.models import User
...
class Basket(models.Model):
    user = models.ForeignKey(to=User, on_delete=models.CASCADE)
    product = models.ForeignKey(to=Product, on_delete=models.CASCADE)
    quantity = models.PositiveSmallIntegerField(default=0)
    created_timestamp = models.DateTimeField(auto_now_add=True)  # заполнится автоматом при создании объекта

    def __str__(self):
        return f'Корзина для {self.user.email} | Продукт: {self.product.name}'
```
Далее делаем миграции.

Корзина используется в существующем файле profile.html. View для него отдельно создавать не нужно. Нужно использовать включенные шаблоны. В products, templates создаем `basket.html` и переносим в него кусок кода, который отвечаем за корзину. Это нужно для того, чтобы отдельно поработать с функционалом корзины.

В profile.html включаем шаблон baskets.html
```html
<div class="col-lg-5">
  {% include 'products/baskets.html' %}
</div>
```
